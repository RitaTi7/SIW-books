<!DOCTYPE html>
<html>
    <head>
        <title>Libri di Autore</title>
		<link rel="stylesheet" href="/css/stile1.css" />
		<link rel="stylesheet" href="/css/stile2.css"/>
		<link rel="stylesheet" href="/css/stile3.css"/>		
		<link rel="icon" href="/images/piuma.jpg" type="/image/JPG" />
    </head>

    <body>
		<header>
			<div class="logo"><img src="/images/piuma.jpg" width="2%"/> SIW Books</div>
			<nav>
				<a th:href="@{/}"><button>Home</button></a>
				<a th:href="@{/libro}"><button>Libri</button></a>
				<a th:href="@{/autore}"><button>Autori</button></a>
				<span th:if="${userDetails}">
					<span th:text="${userDetails.username}"></span>
					<a th:href="@{/logout}"><button>Logout</button></a>
				</span>
				<span th:unless="${userDetails}">
					<a th:href="@{/login}"><button>Login</button></a>
				</span>
			</nav>
		</header>
		
		<div style="display: flex; flex:1;">
			<div class="container-obj" th:if="${autore}">
		    	<h1 th:text="|${autore.nome} ${autore.cognome}|">Nome Cognome</h1>
				<!--<div class="settings3" sec:authorize="hasAuthority('ADMIN')">
					<a th:href="@{'/admin/formModificaAutore/' + ${autore.id}}"><button type="button">Modifica dati</button></a><br>
					<span><a th:href="@{'/admin/modificaLibriDiAutore/' + ${autore.id}}" style="margin-top:10px;"><button type="button">Modifica libri</button></a></span>
				</div>-->
				
				<p class="importante">Data di nascita: <span th:text="${#temporals.format(autore.dataNascita, 'dd-MM-yyyy')}">1900</span></p>
				<p class="importante" th:if="${autore.dataMorte}">Data di scomparsa: <span th:text="${#temporals.format(autore.dataMorte, 'dd-MM-yyyy')}"></span></p>
		    	<p class="importante">Nazionalità: <span th:text="${autore.nazionalita}">Italiana</span></p>
				<p class="importante">Libri:</p>
				<div class="cliccabile">
			  		<span th:if="${libri.isEmpty()}">Non è presente nessun libro</span>
			  		<span th:unless="${libri.isEmpty()}">
						<ul>
							<li th:each="libro: ${libri}">
								<a th:href="@{'/libro/' + ${libro.id}}" th:text="${libro.titolo} + ' (' + ${libro.anno} + ')'">Titolo (2003)</a>
								<span class="settings2"><a th:href="@{'/admin/rimuoviLibroDaAutore/' + ${autore.id} + '/' + ${libro.id}}"><button type="button">Rimuovi</button></a></span>								
							</li>
						</ul>
			  		</span>
				</div>
				<span class="settings1">
					<a th:href="@{'/admin/aggiungiAltriLibriAdAutore/' + ${autore.id}}"><button type="button">Aggiungi libro</button></a>
					<a th:href="@{'/autore/' + ${autore.id}}"><button type="button">Fine</button></a>
				</span>
			</div>
			<div class="foto">
				<img th:src="@{'/images/' + ${autore.immagine}}" alt="Immagine autore"/>
			</div>
		</div>	

		<footer>
			&copy; 2025 Siw Books
		</footer>		
		
    </body>
</html>



<!--
	<div>
	    <div th:if="${autore}"> <h1 th:text="|${autore.nome} ${autore.cognome}|">Nome Cognome</h1>
	        <div>Data di nascita: <span th:if="${autore}" th:text="${autore.dataNascita}">2003</span></div>
			<div th:if="${autore.dataMorte != null}">Data di morte: <span th:text="${autore.dataMorte}"></span></div>
			<div>Nazionalità: <span th:if="${autore.nazionalita!=null}" th:text="${autore.nazionalita}">non specificata</span>
				<! non so se serve: <span th:unless="${autore.nazionalita !=null}">non specificata</span>-
			</div>
		</div>
	</div>
	<div th:unless="${autore}">Non c'è nessun autore</div>

	<div>
	    <h2>Elenco dei libri dell'autore</h2>
	    <div th:if="${libri.isEmpty()}">Non sono presenti libri</div>
	    <div th:unless="${libri.isEmpty()}">
			<ul>
	            <li th:each="libro: ${libri}">
	                <a th:href="@{'/libro'+'/'+ ${libro.id}}" th:text="|${libro.titolo} ${libro.anno}|">titolo (2003)</a>
					<span><a th:href="@{'/rimuoviLibroDaAutore/'+ ${autore.id} +'/'+ ${libro.id}}"><button type="button">Rimuovi</button></a></span>
				</li>
	        </ul>
		</div>			
		
	</div>
		<a th:href="@{'/aggiungiAltriLibriAdAutore/' + ${autore.id}}"><button type="button">Aggiungi</button></a>


	<div>
		<a th:href="@{'/modificaAutore/'+ ${autore.id}}">
			<button type="button">Indietro</button>
		</a>
	</div>

-->